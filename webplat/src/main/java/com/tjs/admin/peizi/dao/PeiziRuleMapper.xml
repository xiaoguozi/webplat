<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.tjs.admin.peizi.dao.PeiziRuleMapper">
	<resultMap id="BaseResultMap" type="com.tjs.admin.peizi.model.PeiziRule">
		<id column="rule_id" property="ruleId" javaType="java.lang.Long"  jdbcType="BIGINT" />
		<result column="rule_type" property="ruleType" jdbcType="VARCHAR" />
		<result column="rule_pcx" property="rulePcx" javaType="java.math.BigDecimal" />
		<result column="rule_jjx" property="ruleJjx" javaType="java.math.BigDecimal" />
		<result column="rule_zjsyqx" property="ruleZjsyqx" jdbcType="INTEGER" />
		<result column="rule_glsy_type" property="ruleGlsyType" jdbcType="VARCHAR" />
		<result column="rule_zhglf" property="ruleZhglf" javaType="java.math.BigDecimal" />
		<result column="rule_nll" property="ruleNll" javaType="java.math.BigDecimal" />
		<result column="rule_yll" property="ruleYll" javaType="java.math.BigDecimal" />						
	</resultMap>

	<sql id="Base_select_Column_List">
		rule_id,rule_type,rule_pcx,rule_jjx,rule_zjsyqx,rule_glsy_type,rule_zhglf,rule_nll,rule_yll
	</sql>

	<sql id="Base_insert_Column_List">
		rule_type,rule_pcx,rule_jjx,rule_zjsyqx,rule_glsy_type,rule_zhglf,rule_nll,rule_yll
	</sql>

	<select id="countPeiziRule" resultType="int"
		parameterType="com.tjs.admin.peizi.controller.PeiziRuleCtrlModel">
		select count(*) c from tjs_peizi_rule  where 1=1
		
		<if test="peiziRule!= null and peiziRule.ruleType!= '' and peiziRule.ruleType!=null">
          AND  rule_type = #{peiziRule.ruleType}
         </if>
				
	</select>

	<select id="selectPeiziRule"  resultMap="BaseResultMap"  parameterType="com.tjs.admin.peizi.controller.PeiziRuleCtrlModel">
		select
		<include refid="Base_select_Column_List" />
				
		from tjs_peizi_rule where   1=1	
		
		 <if test="peiziRule!= null and peiziRule.ruleType!= '' and peiziRule.ruleType!=null">
          AND  rule_type = #{peiziRule.ruleType}
         </if>
					      
         <if test="sortField!= null and sortField!= ''">
           ORDER BY ${sortField} ${sortType}
        </if>
                      
         <if test="pageNo!= 0">
           LIMIT #{limitStart} ,#{pageSize}
        </if>
        
	</select>
	
	
	<select id="findByPeiziRuleId"  resultMap="BaseResultMap"  parameterType="Long">
		select			
		<include refid="Base_select_Column_List" />						
		from tjs_peizi_rule where   rule_Id=#{ruleId}							                  
	</select>
	
	<insert id="insertPeiziRule" useGeneratedKeys="true"
		keyProperty="ruleId" parameterType="com.tjs.admin.peizi.model.PeiziRule">
		insert into tjs_peizi_rule(
		<include refid="Base_insert_Column_List" />
		) values
		(#{ruleType},
		#{rulePcx},
		#{ruleJjx},
		#{ruleZjsyqx},
		#{ruleGlsyType},
		#{ruleZhglf},
		#{ruleNll},
		#{ruleYll}	
		)
	</insert>
	
	<update id="updatePeiziRule" parameterType="com.tjs.admin.peizi.model.PeiziRule">
		update tjs_peizi_rule set
		rule_type=#{ruleType},
		rule_pcx=#{rulePcx},
		rule_jjx=#{ruleJjx},
		rule_zjsyqx=#{ruleZjsyqx},
		rule_glsy_type=#{ruleGlsyType},
		rule_zhglf=#{ruleZhglf},
		rule_nll=#{ruleNll},
		rule_yll=#{ruleYll}
		where rule_id=#{ruleId}		
	</update>
	
	
	<delete id="deletePeiziRule" parameterType="Long">
	    delete from tjs_peizi_rule  where  rule_id=#{ruleId}
	</delete>
	
	
	<delete id="deleteBatchPeiziRule" parameterType="Long">
	  delete from tjs_peizi_rule  where rule_id in 
		<foreach item="idItem" collection="array" open="(" separator="," close=")">
		  #{idItem}
	     </foreach>
	</delete>	
</mapper>