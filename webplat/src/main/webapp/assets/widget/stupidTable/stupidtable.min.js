(function(a){a.fn.stupidtable=function(b){return this.each(function(){var c=a(this);b=b||{};b=a.extend({},a.fn.stupidtable.default_sort_fns,b);c.on("click.stupidtable","th",function(){var h=a(this);
var g=0;var e=a.fn.stupidtable.dir;c.find("th").slice(0,h.index()).each(function(){var i=a(this).attr("colspan")||1;g+=parseInt(i,10);});var d=h.data("sort-default")||e.ASC;
if(h.data("sort-dir")){d=h.data("sort-dir")===e.ASC?e.DESC:e.ASC;}var f=h.data("sort")||null;if(f===null){return;}c.trigger("beforetablesort",{column:g,direction:d});
c.css("display");setTimeout(function(){var k=[];var j=b[f];var i=c.children("tbody").children("tr");i.each(function(m,o){var l=a(o).children().eq(g);var n=l.data("sort-value");
var p=typeof(n)!=="undefined"?n:l.text();k.push([p,o]);});k.sort(function(m,l){return j(m[0],l[0]);});if(d!=e.ASC){k.reverse();}i=a.map(k,function(l){return l[1];
});c.children("tbody").append(i);c.find("th").data("sort-dir",null).removeClass("sorting-desc sorting-asc");h.data("sort-dir",d).addClass("sorting-"+d);
c.trigger("aftertablesort",{column:g,direction:d});c.css("display");},10);});});};a.fn.stupidtable.dir={ASC:"asc",DESC:"desc"};a.fn.stupidtable.default_sort_fns={"int":function(d,c){return parseInt(d,10)-parseInt(c,10);
},"float":function(d,c){return parseFloat(d)-parseFloat(c);},string:function(d,c){if(d<c){return -1;}if(d>c){return +1;}return 0;},"string-ins":function(d,c){d=d.toLowerCase();
c=c.toLowerCase();if(d<c){return -1;}if(d>c){return +1;}return 0;},fnumber:function(d,c){return parseFloat(d.replace(/[^\d\.-]/g,""))-parseFloat(c.replace(/[^\d\.-]/g,""));
}};})(jQuery);